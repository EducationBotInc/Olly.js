!function(){"use strict";var e=function(){var e=this;e.murs=!0,e.TEXT=0,e.LINK=1,e.EMBED=2,e.onReady=null,e.ready=function(t){t?e.onReady=t:"function"==typeof e.onReady&&e.onReady()},e.embed=function(e,t,i){var n;return n=this.parseURL(e),this.render(t,n,i),!0},e.richify=function(e,t,i){for(var n,a,r,o=e.replace(/<.+?>/g," ").match(/(http(?:s?):[^ <\n]+)/)||[],s=e.match(/>(.+?)(<|$)/g)||[],d=[],l=0;l<o.length;l++){var m=o[l];for(a=0;a<s.length;a++)r=s[a],d.push(r.replace(m,"<span class='olly'>"+m+"</span>"))}for(a=0;a<s.length;a++){r=s[a];var u=d[a];e=e.replace(r,u)}t.innerHTML=e,n=t.getElementsByClassName("olly");for(var c=0;c<n.length;c++){var p=n[c],h=this.parseURL(p.innerHTML);this.render(p,h,i)}return!0},e.domains={youtube:function(e){return{data:{embedURL:"http://www.youtube.com/embed/"+e.query.v}}},youtu:function(e){return{template:"youtube",data:{embedURL:"http://www.youtube.com/embed/"+e.pathname.slice(1,e.pathname.length)}}},vimeo:function(e){return{data:{embedURL:"//player.vimeo.com/video/"+e.pathchunks[0]}}},dotsub:function(e){return{data:{embedURL:"//dotsub.com/media/"+e.pathchunks[1]+"/embed/"}}},dailymotion:function(e){return{data:{embedURL:"http://www.dailymotion.com/embed/video/"+e.pathchunks[1]}}},liveleak:function(e){return{data:{embedURL:"http://www.liveleak.com/e/"+e.query.i}}},vine:function(e){return{data:{embedURL:"https://vine.co/v/"+e.pathchunks[1]+"/embed/simple"}}},ted:function(e){return{data:{embedURL:"http://embed.ted.com/talks/"+e.pathchunks[1]+".html"}}},imgur:function(e){return{data:{embedURL:"http://i.imgur.com/"+e.pathchunks[0]+".gif"}}},jsfiddle:function(e){return{data:{embedURL:"http://jsfiddle.net/"+e.pathchunks.join("/")+"/embedded/"}}},twitter:function(e){return{template:1===e.pathchunks.length?"twitter_timeline":"twitter_tweet",data:{embedURL:e.url}}},github:function(e){return{data:{repo:e.pathchunks.join("/")}}},reddit:function(e){var t,i,n,a;return i="_reddit_"+e.pathchunks[1],"reddit_subreddit"==(n=-1!=e.pathchunks.indexOf("user")?"reddit_user":"reddit_subreddit")&&(a="http://www.reddit.com/r/"+e.pathchunks[1]+"/hot/.embed"),"reddit_user"==n&&(a="http://www.reddit.com/user/"+e.pathchunks[1]+"/submitted.embed"),t=olly.defer(),window[i]=function(e){t.resolve({markup:e})},{templatePromise:t.promise,data:{JSONPURL:a,callbackName:i}}},soundcloud:function(e){return{data:{embedURL:e.url}}},spotify:function(e){return{data:{embedID:e.pathchunks[1]}}},twitch:function(e){return{data:{channel:e.pathchunks[0]}}},gfycat:function(e){return{data:{embedID:e.pathchunks[0]}}}},e.extensions={image:function(e){return{template:"image",data:{embedURL:e.url}}},video:function(e){return{template:"video",data:{embedURL:e.url}}},audio:function(e){return{template:"audio",data:{embedURL:e.url}}}},e.extensions.jpg=e.extensions.image,e.extensions.jpeg=e.extensions.image,e.extensions.png=e.extensions.image,e.extensions.gif=e.extensions.image,e.extensions.bmp=e.extensions.image,e.extensions.mp4=e.extensions.video,e.extensions.ogv=e.extensions.video,e.extensions.webm=e.extensions.video,e.extensions.ogg=e.extensions.audio,e.extensions.mp3=e.extensions.audio,e.parseURL=function(e){var t,i,n,a,r,o,s,d,l,m;if((i=("undefined"!=typeof module?module.document:window.document).createElement("a")).href=e,r={},t=[],i.search)m=i.search;else{var u=e.replace(/#.+/,"").split("?");m=2==u.length?"?"+u[1]:""}if(m&&"?"===m[0])for(s=(l=m.slice(1,m.length)).split("&"),o=0;o<s.length;o+=1)r[(d=s[o].split("="))[0]]=d[1];if(""!==i.pathname)for(n=i.pathname.split("/"),a=0;a<n.length;a+=1)n[a]&&t.push(n[a]);return{url:e,protocol:i.protocol,hostname:i.hostname,port:i.port,pathname:i.pathname,pathchunks:t,querystring:l,query:r,hash:i.hash,host:i.host}},e.defer=function(){var e={};return e.promise={then:function(t){e.callback=t,e.resolved&&e.finish()}},e.resolve=function(){e.args=arguments,e.callback&&e.finish(),e.resolved=!0},e.finish=function(){e.callback.apply(olly,e.args)},e},e.render=function(e,t,i){var n,a,r,o,s,d;if(r=this.findDomain(t),o=this.findExtension(t),!r&&!o||(i||{})[r]==olly.TEXT)return"";if(a=(this.domains[r]||this.extensions[o])(t),(s=this.templates[a.template||r||o])&&s.scripts)for(d=0;d<s.scripts.length;d+=1)n=s.scripts[d],this.loadScript(e,olly.generate(n,a.data));return a.templatePromise?a.templatePromise.then(function(t){this.display(t,a.data,e)}):this.display(s,a.data,e),!0},e.findDomain=function(e){var t,i,n;for(i in n=e.hostname.split("."))if(t=n[i],void 0!==this.domains[t])break;return!!this.domains[t]&&t},e.findExtension=function(e){var t,i;return t=(i=e.pathname.split("."))[i.length-1],!!this.extensions[t]&&t},e.load=function(e){var t=olly.defer();var i=new XMLHttpRequest;return i.onload=function(e){t.resolve(e.responseText)},i.open("get",e,!0),i.send(),t.promise},e.loadScript=function(e,t){var i;(i=document.createElement("script")).type="text/javascript",i.src=t,e.appendChild(i)},e.display=function(e,t,i){"string"==typeof e&&(e={markup:e}),i.innerHTML=olly.generate(e.markup,t)},e.generate=function(e,t){var i,n;for(i in n=e,t)n=n.replace(new RegExp("{{"+i+"}}","g"),t[i]);return n},e.templates={youtube:'<iframe width="560" height="315" src="{{embedURL}}" frameborder="0" allowfullscreen></iframe>',vimeo:'<iframe src="{{embedURL}}" width="420" height="345" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>',dotsub:'<iframe src="{{embedURL}}" frameborder="0" width="420" height="345"></iframe> ',dailymotion:'<iframe frameborder="0" width="420" height="345" src="{{embedURL}}" allowfullscreen></iframe>',liveleak:'<embed width="420" height="345" src="{{embedURL}}" type="application/x-shockwave-flash" wmode="transparent"></embed>',vine:'<iframe class="vine-embed" src="{{embedURL}}" width="420" height="345" frameborder="0"></iframe><script async src="//platform.vine.co/static/scripts/embed.js" charset="utf-8"><\/script>',ted:'<iframe src="{{embedURL}}" width="420" height="345" frameborder="0" scrolling="no" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>',imgur:'<img src="{{embedURL}}" />',jsfiddle:'<iframe style="width: 100%; height: 300px" src="{{embedURL}}"></iframe>',twitter_tweet:{markup:'<blockquote class="twitter-tweet" lang="en"><p> <a href="{{embedURL}}"></a></blockquote>',scripts:["//platform.twitter.com/widgets.js"]},twitter_timeline:{markup:'<a class="twitter-timeline" href="{{embedURL}}"></a>',scripts:["//platform.twitter.com/widgets.js"]},github:{markup:'<div class="github-widget" data-repo="{{repo}}"></div>',scripts:["http://abeisgreat.github.io/Github-Repo-Widget/githubRepoWidget.min.js"]},reddit:{scripts:["{{JSONPURL}}?limit=5&callback={{callbackName}}"]},soundcloud:'<iframe width="100%" height="166" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url={{embedURL}}"></iframe>',spotify:'<iframe src="https://embed.spotify.com/?uri=spotify:track:{{embedID}}" width="300" height="380" frameborder="0" allowtransparency="true"></iframe>',twitch:'<object type="application/x-shockwave-flash" height="378" width="620" id="live_embed_player_flash" data="http://www.twitch.tv/widgets/live_embed_player.swf?channel={{channel}}" bgcolor="#000000"><param name="allowFullScreen" value="true" /><param name="allowScriptAccess" value="always" /><param name="allowNetworking" value="all" /><param name="movie" value="http://www.twitch.tv/widgets/live_embed_player.swf" /><param name="flashvars" value="hostname=www.twitch.tv&channel={{channel}}&auto_play=true&start_volume=25" /></object>',gfycat:{markup:'<img class="gfyitem" data-id="{{embedID}}" />',scripts:["http://assets.gfycat.com/js/gfyajax-0.517d.js"]},video:{markup:'<video src="{{embedURL}}" controls="true" autoplay loop></video>'},audio:{markup:'<audio src="{{embedURL}}" controls="true"></audio>'},image:{markup:'<img src="{{embedURL}}" />'}}};"undefined"!=typeof module&&module.exports?(module.exports=new e,module.document=window.document,module.exports.ready()):(window.olly=new e,window.olly.ready())}(),function(e){"use strict";(typeof module!=="undefined"&&module.exports?module.exports:window.olly).parseURL=function(e){var t,i,n,a,r,o,s,d,l,m;if((i=("undefined"!=typeof module?module.document:window.document).createElement("a")).href=e,r={},t=[],i.search)m=i.search;else{var u=e.replace(/#.+/,"").split("?");m=2==u.length?"?"+u[1]:""}if(m&&"?"===m[0])for(s=(l=m.slice(1,m.length)).split("&"),o=0;o<s.length;o+=1)r[(d=s[o].split("="))[0]]=d[1];if(""!==i.pathname)for(n=i.pathname.split("/"),a=0;a<n.length;a+=1)n[a]&&t.push(n[a]);return{url:e,protocol:i.protocol,hostname:i.hostname,port:i.port,pathname:i.pathname,pathchunks:t,querystring:l,query:r,hash:i.hash,host:i.host}}}(),function(e){"use strict";(typeof module!=="undefined"&&module.exports?module.exports:window.olly).templates={youtube:'<iframe width="560" height="315" src="{{embedURL}}" frameborder="0" allowfullscreen></iframe>',vimeo:'<iframe src="{{embedURL}}" width="420" height="345" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>',dotsub:'<iframe src="{{embedURL}}" frameborder="0" width="420" height="345"></iframe> ',dailymotion:'<iframe frameborder="0" width="420" height="345" src="{{embedURL}}" allowfullscreen></iframe>',liveleak:'<embed width="420" height="345" src="{{embedURL}}" type="application/x-shockwave-flash" wmode="transparent"></embed>',vine:'<iframe class="vine-embed" src="{{embedURL}}" width="420" height="345" frameborder="0"></iframe><script async src="//platform.vine.co/static/scripts/embed.js" charset="utf-8"><\/script>',ted:'<iframe src="{{embedURL}}" width="420" height="345" frameborder="0" scrolling="no" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>',imgur:'<img src="{{embedURL}}" />',jsfiddle:'<iframe style="width: 100%; height: 300px" src="{{embedURL}}"></iframe>',twitter_tweet:{markup:'<blockquote class="twitter-tweet" lang="en"><p> <a href="{{embedURL}}"></a></blockquote>',scripts:["//platform.twitter.com/widgets.js"]},twitter_timeline:{markup:'<a class="twitter-timeline" href="{{embedURL}}"></a>',scripts:["//platform.twitter.com/widgets.js"]},github:{markup:'<div class="github-widget" data-repo="{{repo}}"></div>',scripts:["http://abeisgreat.github.io/Github-Repo-Widget/githubRepoWidget.min.js"]},reddit:{scripts:["{{JSONPURL}}?limit=5&callback={{callbackName}}"]},soundcloud:'<iframe width="100%" height="166" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url={{embedURL}}"></iframe>',spotify:'<iframe src="https://embed.spotify.com/?uri=spotify:track:{{embedID}}" width="300" height="380" frameborder="0" allowtransparency="true"></iframe>',twitch:'<object type="application/x-shockwave-flash" height="378" width="620" id="live_embed_player_flash" data="http://www.twitch.tv/widgets/live_embed_player.swf?channel={{channel}}" bgcolor="#000000"><param name="allowFullScreen" value="true" /><param name="allowScriptAccess" value="always" /><param name="allowNetworking" value="all" /><param name="movie" value="http://www.twitch.tv/widgets/live_embed_player.swf" /><param name="flashvars" value="hostname=www.twitch.tv&channel={{channel}}&auto_play=true&start_volume=25" /></object>',gfycat:{markup:'<img class="gfyitem" data-id="{{embedID}}" />',scripts:["http://assets.gfycat.com/js/gfyajax-0.517d.js"]},video:{markup:'<video src="{{embedURL}}" controls="true" autoplay loop></video>'},audio:{markup:'<audio src="{{embedURL}}" controls="true"></audio>'},image:{markup:'<img src="{{embedURL}}" />'}}}(),function(e){"use strict";e.domains={youtube:function(e){return{data:{embedURL:"http://www.youtube.com/embed/"+e.query.v}}},youtu:function(e){return{template:"youtube",data:{embedURL:"http://www.youtube.com/embed/"+e.pathname.slice(1,e.pathname.length)}}},vimeo:function(e){return{data:{embedURL:"//player.vimeo.com/video/"+e.pathchunks[0]}}},dotsub:function(e){return{data:{embedURL:"//dotsub.com/media/"+e.pathchunks[1]+"/embed/"}}},dailymotion:function(e){return{data:{embedURL:"http://www.dailymotion.com/embed/video/"+e.pathchunks[1]}}},liveleak:function(e){return{data:{embedURL:"http://www.liveleak.com/e/"+e.query.i}}},vine:function(e){return{data:{embedURL:"https://vine.co/v/"+e.pathchunks[1]+"/embed/simple"}}},ted:function(e){return{data:{embedURL:"http://embed.ted.com/talks/"+e.pathchunks[1]+".html"}}},imgur:function(e){return{data:{embedURL:"http://i.imgur.com/"+e.pathchunks[0]+".gif"}}},jsfiddle:function(e){return{data:{embedURL:"http://jsfiddle.net/"+e.pathchunks.join("/")+"/embedded/"}}},twitter:function(e){return{template:1===e.pathchunks.length?"twitter_timeline":"twitter_tweet",data:{embedURL:e.url}}},github:function(e){return{data:{repo:e.pathchunks.join("/")}}},reddit:function(t){var i,n,a,r;return n="_reddit_"+t.pathchunks[1],"reddit_subreddit"==(a=-1!=t.pathchunks.indexOf("user")?"reddit_user":"reddit_subreddit")&&(r="http://www.reddit.com/r/"+t.pathchunks[1]+"/hot/.embed"),"reddit_user"==a&&(r="http://www.reddit.com/user/"+t.pathchunks[1]+"/submitted.embed"),i=e.defer(),window[n]=function(e){i.resolve({markup:e})},{templatePromise:i.promise,data:{JSONPURL:r,callbackName:n}}},soundcloud:function(e){return{data:{embedURL:e.url}}},spotify:function(e){return{data:{embedID:e.pathchunks[1]}}},twitch:function(e){return{data:{channel:e.pathchunks[0]}}},gfycat:function(e){return{data:{embedID:e.pathchunks[0]}}}}}("undefined"!=typeof module&&module.exports?module.exports:window.olly),function(e){"use strict";e.extensions={image:function(e){return{template:"image",data:{embedURL:e.url}}},video:function(e){return{template:"video",data:{embedURL:e.url}}},audio:function(e){return{template:"audio",data:{embedURL:e.url}}}},e.extensions.jpg=e.extensions.image,e.extensions.jpeg=e.extensions.image,e.extensions.png=e.extensions.image,e.extensions.gif=e.extensions.image,e.extensions.bmp=e.extensions.image,e.extensions.mp4=e.extensions.video,e.extensions.ogv=e.extensions.video,e.extensions.webm=e.extensions.video,e.extensions.ogg=e.extensions.audio,e.extensions.mp3=e.extensions.audio}("undefined"!=typeof module&&module.exports?module.exports:window.olly),function(e,t){"use strict";e.render=function(t,i,n){var a,r,o,s,d,l;if(o=this.findDomain(i),s=this.findExtension(i),!o&&!s||(n||{})[o]==e.TEXT)return"";if(r=(this.domains[o]||this.extensions[s])(i),(d=this.templates[r.template||o||s])&&d.scripts)for(l=0;l<d.scripts.length;l+=1)a=d.scripts[l],this.loadScript(t,e.generate(a,r.data));return r.templatePromise?r.templatePromise.then(function(e){this.display(e,r.data,t)}):this.display(d,r.data,t),!0},e.findDomain=function(e){var t,i,n;for(i in n=e.hostname.split("."))if(t=n[i],void 0!==this.domains[t])break;return!!this.domains[t]&&t},e.findExtension=function(e){var t,i;return t=(i=e.pathname.split("."))[i.length-1],!!this.extensions[t]&&t},e.load=function(t){var i=e.defer();var n=new XMLHttpRequest;return n.onload=function(e){i.resolve(e.responseText)},n.open("get",t,!0),n.send(),i.promise},e.loadScript=function(e,i){var n;(n=t.createElement("script")).type="text/javascript",n.src=i,e.appendChild(n)},e.display=function(t,i,n){"string"==typeof t&&(t={markup:t}),n.innerHTML=e.generate(t.markup,i)},e.generate=function(e,t){var i,n;for(i in n=e,t)n=n.replace(new RegExp("{{"+i+"}}","g"),t[i]);return n}}("undefined"!=typeof module&&module.exports?module.exports:window.olly,"undefined"!=typeof module?module.document:document),function(e){"use strict";e.defer=function(){var t={};return t.promise={then:function(e){t.callback=e,t.resolved&&t.finish()}},t.resolve=function(){t.args=arguments,t.callback&&t.finish(),t.resolved=!0},t.finish=function(){t.callback.apply(e,t.args)},t}}("undefined"!=typeof module&&module.exports?module.exports:window.olly);